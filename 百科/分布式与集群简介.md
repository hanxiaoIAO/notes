# 分布式与集群

​	分布式可繁也可以简，最简单的分布式就是大家最常用的，在负载均衡服务器后加一堆web服务器，然后在上面搞一个缓存服务器来保存临时状态，后面共享一个数据库。这种环境下真正进行分布式的只是web server而已，并且web server之间没有任何联系，所以结构和实现都非常简单。

![img](picture/简单的分布式.gif)

​	有些情况下，对分布式的需求就没这么简单，在每个环节上都有分布式的需求，比如Load Balance、DB、Cache和文件等等，并且当分布式节点之间有关联时，还得考虑之间的通讯，另外，节点非常多的时候，得有监控和管理来支撑。这样看起来，分布式是一个非常庞大的体系，只不过你可以根据具体需求进行适当地裁剪。按照最完备的分布式体系来看，可以由以下模块组成：

![img](picture/分布式模块.gif)

+ 分布式任务处理服务：负责具体的业务逻辑处理

+ 分布式节点注册和查询：负责管理所有分布式节点的命名和物理信息的注册与查询，是节点之间联系的桥梁

+ 分布式DB：分布式结构化数据存取

+ 分布式Cache：分布式缓存数据（非持久化）存取

+ 分布式文件：分布式文件存取

+ 网络通信：节点之间的网络数据通信

+ 监控管理：搜集、监控和诊断所有节点运行状态

+ 分布式编程语言：用于分布式环境下的专有编程语言，比如Elang、Scala

+ 分布式算法：为解决分布式环境下一些特有问题的算法，比如解决一致性问题的Paxos算法

​	分布式是相对中心化而来，强调的是任务在多个物理隔离的节点上进行。中心化带来的主要问题是可靠性，若中心节点宕机则整个系统不可用，分布式除了解决部分中心化问题，也倾向于分散负载，但分布式会带来很多的其他问题，最主要的就是一致性。

​	集群是个物理形态，分布式是个工作方式。
​	 分布式是指将不同的业务分布在不同的地方。 而集群指的是将几台服务器集中在一起，实现同一业务。
​	分布式中的每一个节点，都可以做集群。 而集群并不一定就是分布式的。
​	分布式是以缩短单个任务的执行时间来提升效率的，而集群则是通过提高单位时间内执行的任务数来提升效率。

​	分布式：不同的业务模块部署在不同的服务器上或者同一个业务模块分拆多个子业务，部署在不同的服务器上，解决高并发的问题
​	集群：同一个业务部署在多台机器上，提高系统可用性  