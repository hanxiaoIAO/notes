[toc]

## 索引

在关系数据库中，索引是一种单独的、物理的对数据库表中一列或多列的值进行排序的一种存储结构，它是某个表中一列或若干列值的集合和相应的指向表中物理标识这些值的数据页的逻辑指针清单。

索引提供指向存储在表的指定列中的数据值的指针，然后根据您指定的排序顺序对这些指针排序。数据库使用索引以找到特定值，然后顺指针找到包含该值的行。这样可以使对应于表的SQL语句执行得更快，可快速访问数据库表中的特定信息。

### 优缺点

#### 优点

1.大大加快数据的检索速度;

2.创建唯一性索引，保证数据库表中每一行数据的唯一性;

3.加速表和表之间的连接;

4.在使用分组和排序子句进行数据检索时，可以显著减少查询中分组和排序的时间。

#### 缺点

1.索引需要占物理空间。

2.当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，降低了数据的维护速度。

### 什么时候应当避免使用索引？

------

　尽管创建索引的目的是提升数据库的性能，但是还是有一些情况应当避免使用索引。下面几条指导原则给出了何时应当重新考虑是否使用索引：

- 小的数据表不应当使用索引；
- 需要频繁进行大批量的更新或者插入操作的表；
- 如果列中包含大数或者 NULL 值，不宜创建索引；
- 频繁操作的列不宜创建索引。

### 索引结构

数据库常用的两种索引结构：B-tree和HASH

### 索引类型

唯一索引：索引列的值必须唯一，但允许有空值。如果是组合索引，则列值得组合必须唯一

主键索引：索引列的值必须唯一，不允许有空值。

组合索引：

​					遵循最左原则。

```sql
add index idx(CountryCode,District,Name);
```

​					相当于同时创建了三个索引，

​					(ConutryCode,District,Name）,(CountryCode,District),(CountryCode)。

聚集索引：也称为聚簇索引，在聚集索引中，表中行的物理顺序与键值的逻辑（索引）顺序相同。一个表只能包含一个聚集索引。

### 数据库默认操作

 在某些关系数据库中，创建表的时候，数据库会要求添加主键，添加主键的同时数据库默认会帮我们建主键索引以及聚集索引。